Configuring Network for VMs

VirtualBox Network Settings
Create an isolated host-only adapter network for Windows 10 machine and Remnux to talk to each
other

1. Create a new Host-only Network
- Tools → Host-only Adaptor Tab → Create

2. Right Click -> Properties. Set IPv4 Address to a separate private range (ex. 10.0.0.1). Set DHCP
Server address to x.x.x.2, lower bound to x.x.x.3 and upper to x.x.x.254

3. Ensure all VMs are using Host-only Adapter, Isolated Ethernet Adapter
- Right click on VM → Settings → Netowrk → Attached to: Host-only Adaptor and ensure name is the one for your configured Host-only adaptor

Creating a Fake Network in Remnux
Run inetsim in command prompt to start network service.
Edit the config file in /etc/inetsim/inetsim.conf 
- Uncomment start_service dns
- Set the service_bind_address to 0.0.0.0
- Set the DNS Default IP to IP address of Remnux VM address. (10.0.0.4)

Serving Valid HTTP Responses
In the Windows Box:
- Enter the IP address of Remnux to receive a standard 200 response.
- http://10.0.04/malware.exe: Always serves a test binary when typing in (.exe) extension.
- my_malware.info: Serves a valid DNS response for any URL.

Windows Firewall Inbound Rule
If Remnux can't ping the FlareVM host, add an inbound rule to allow all traffic through from the Remnux
IP address.

Open Windows Defender Firewall.
- Click "Inbound Rules" -> "New Rule..."
- Choose Custom -> Next, All Programs -> Next, Leave default Protocol and Ports -> Next
- Under the remote IP addresses, choose "Add", enter the Remnux IP address (10.0.0.4).
- Choose "Allow the connection", leave default for Profile, Name the rule -> Finish.